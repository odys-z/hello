

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Structure &mdash; ACSL Lecture 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ACSL Lecture 1.0 documentation" href="../../index.html"/>
        <link rel="up" title="Lec 04: Topics of Contest 2" href="index.html"/>
        <link rel="next" title="Topics" href="fix.html"/>
        <link rel="prev" title="Lec 04: Topics of Contest 2" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> ACSL Lecture
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lect00/index.html">Lec 0: About ACSL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect01/index.html">Lec 1: Python Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect02/index.html">Lec 2: Things you already know</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect03/index.html">Lec 3: Topics of Contest 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect03p2/index.html">Lec 3: Contest #1, Part 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect03p3/index.html">Lec 3: Contest #1, Part 3</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Lec 04: Topics of Contest 2</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="">Data Structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stacks-and-queues">Stacks and Queues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stack-in-python3">Stack in Python3</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-list">Using List</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-queue">Using Queue</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#list">List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trees">Trees</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#inernal-path-length">Inernal Path Length</a></li>
<li class="toctree-l4"><a class="reference internal" href="#binary-search">Binary search</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-node">Delete Node</a></li>
<li class="toctree-l4"><a class="reference internal" href="#recursive-travel">Recursive Travel</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#priority-queues">Priority Queues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fix.html">Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="program.html">C#2 Programming Problem</a></li>
<li class="toctree-l2"><a class="reference internal" href="exercise.html">Exercise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lect05/index.html">Lec 05: Topics of Contest 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lect06/index.html">Lec 06: Topics of Contest 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x.aime/2021.html">AIME 2021 - I</a></li>
<li class="toctree-l1"><a class="reference internal" href="../y.usaco.0/intro.html">About USACO Guid</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">ACSL Lecture</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Lec 04: Topics of Contest 2</a> &raquo;</li>
      
    <li>Data Structure</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-structure">
<h1>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="http://www.categories.acsl.org/wiki/index.php?title=Data_Structures">Data Structures, ACSL Topic</a></p>
<div class="section" id="stacks-and-queues">
<h2>Stacks and Queues<a class="headerlink" href="#stacks-and-queues" title="Permalink to this headline">¶</a></h2>
<p>LIFO:</p>
<div class="highlight-python"><div class="highlight"><pre>PUSH(&#39;A&#39;)
PUSH(&#39;B&#39;)
x = POP()
y = POP()
PRINT x y
</pre></div>
</div>
<p>output:</p>
<div class="highlight-python"><div class="highlight"><pre>B A
</pre></div>
</div>
<p>Sample Problem:</p>
<div class="highlight-python"><div class="highlight"><pre>A star indicates a pop operation and a letter indicates push the letter.
What would be the next item to be popped?

Z A * N * S * O M * * Y O R * * G * X A * D E S * * *
</pre></div>
</div>
<p>Answer: X</p>
<p>The operations can be quickly simplified as:</p>
<div class="highlight-python"><div class="highlight"><pre>Z Y X
</pre></div>
</div>
<p>FIFO:</p>
<div class="highlight-python"><div class="highlight"><pre>PUSH(&#39;A&#39;)
PUSH(&#39;B&#39;)
x = POP()
y = POP()
PRINT x y
</pre></div>
</div>
<p>output:</p>
<div class="highlight-python"><div class="highlight"><pre>A B
</pre></div>
</div>
</div>
<div class="section" id="stack-in-python3">
<h2>Stack in Python3<a class="headerlink" href="#stack-in-python3" title="Permalink to this headline">¶</a></h2>
<div class="section" id="using-list">
<h3>Using List<a class="headerlink" href="#using-list" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-queue">
<h3>Using Queue<a class="headerlink" href="#using-queue" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
<span class="n">stack</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="list">
<h2>List<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<p>ACSL:</p>
<div class="highlight-python"><div class="highlight"><pre>Although ACSL does not cover linked lists per se, they are a great preliminary
study for binary search trees.
</pre></div>
</div>
<p>Example Problem: <a class="reference external" href="https://leetcode.com/problems/reverse-linked-list/">reverse list</a></p>
<div class="highlight-python3"><div class="highlight"><pre><span class="c1"># Definition for singly-linked list.</span>
<span class="k">class</span> <span class="nc">ListNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">next</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="nb">next</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">reverseList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">head</span><span class="p">:</span> <span class="n">ListNode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ListNode</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">head</span> <span class="ow">and</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span><span class="p">:</span>
            <span class="n">h2</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">head</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
            <span class="n">head</span> <span class="o">=</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
            <span class="k">while</span> <span class="n">head</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">h2</span><span class="p">,</span> <span class="n">h2</span><span class="o">.</span><span class="n">next</span><span class="p">,</span> <span class="n">head</span> <span class="o">=</span> <span class="n">head</span><span class="p">,</span> <span class="n">h2</span><span class="p">,</span> <span class="n">head</span><span class="o">.</span><span class="n">next</span>
            <span class="k">return</span> <span class="n">h2</span>
        <span class="k">return</span> <span class="n">head</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">TestCase</span><span class="p">()</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">reverseList</span><span class="p">(</span><span class="n">h</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">h</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">h</span><span class="o">.</span><span class="n">next</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">next</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
</pre></div>
</div>
<p>Solution: <a class="reference download internal" href="../../_downloads/q206.py" download=""><code class="xref download docutils literal"><span class="pre">List</span> <span class="pre">Sample</span> <span class="pre">Problem</span></code></a></p>
</div>
<div class="section" id="trees">
<h2>Trees<a class="headerlink" href="#trees" title="Permalink to this headline">¶</a></h2>
<p>Some different terms:</p>
<div class="highlight-python"><div class="highlight"><pre>root  leaf / external node   internal node

Our ACSL convention places duplicate keys into the tree as if they were less
than their equal key. (In some textbooks and software libraries, duplicate
keys may be considered larger than their equal key.)

Our ACSL convention is that an external node is the name given to a place
where a new node could be attached to the tree. (In some textbooks, an external
node is synonymous with a leaf node.)

This tree has 9 external nodes and 31 external path length.

          A
      A          M
    o  o      E       R
            C   I   N   o
           o o o o o o

    2   2  4 4 4 4 4 4  3
</pre></div>
</div>
<p>Python example:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">TreeNode</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">lchild</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">rchild</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">v</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">l</span> <span class="o">=</span> <span class="n">lchild</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">rchild</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre>  0
1   2
</pre></div>
</div>
<div class="section" id="inernal-path-length">
<h3>Inernal Path Length<a class="headerlink" href="#inernal-path-length" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python"><div class="highlight"><pre>         P
      O    R
     G    R
    A M

2 * 1 + 2 * 2 + 2 * 3 = 12
</pre></div>
</div>
</div>
<div class="section" id="binary-search">
<h3>Binary search<a class="headerlink" href="#binary-search" title="Permalink to this headline">¶</a></h3>
<p>pseudo code:</p>
<div class="highlight-python"><div class="highlight"><pre>p = root
found = FALSE
while (p ≠ NIL) and (not found)
  if (x &lt; p’s key)
    p = p’s left child
  else if (x &gt; p’s key)
    p = p’s right child
  else
    found = TRUE
  end if
end while
</pre></div>
</div>
<p>Python program:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">p</span> <span class="o">=</span> <span class="n">root</span>          <span class="c1"># root = TreeNode(v)</span>
<span class="n">found</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">while</span> <span class="n">p</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">found</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">p</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">l</span>
    <span class="k">elif</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">r</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">found</span> <span class="o">=</span> <span class="n">TRUE</span>
</pre></div>
</div>
</div>
<div class="section" id="delete-node">
<h3>Delete Node<a class="headerlink" href="#delete-node" title="Permalink to this headline">¶</a></h3>
<p>pseudo code:</p>
<div class="highlight-python"><div class="highlight"><pre>p = node to delete
f = father of p
if (p has no children)
  delete p
else if (p has one child)
  make p’s child become f’s child
  delete p
else if (p has two children)
  l = p’s left child (it might also have children)
  r = p’s right child (it might also have children)
  make l become f’s child instead of p
  stick r onto the l tree
  delete p
end if

    f             f
  p             l
l   r         r
</pre></div>
</div>
<p>Exercise: implement function <em>deleteNode()</em>, delete node &#8216;p&#8217;.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">unittest</span> <span class="k">import</span> <span class="n">TestCase</span>

<span class="k">def</span> <span class="nf">deleteNode</span><span class="p">(</span><span class="n">v</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">):</span>
    <span class="c1"># ...</span>
    <span class="k">pass</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span>

<span class="n">deletNode</span><span class="p">(</span><span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

<span class="n">t</span> <span class="o">=</span> <span class="n">TestCase</span><span class="p">()</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
<span class="n">t</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">f</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;OK!&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="recursive-travel">
<h3>Recursive Travel<a class="headerlink" href="#recursive-travel" title="Permalink to this headline">¶</a></h3>
<p>Although ACSL topics doesn&#8217;t include recusive function, the recursive tree travelling
algorithm is a basic knowledge and skill of data structure.</p>
<p>Let&#8217;s have a look at an example:</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="n">l</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="n">n</span> <span class="o">=</span> <span class="n">TreeNode</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

<span class="n">reslt</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">firsttravel</span><span class="p">(</span><span class="n">root</span><span class="p">:</span> <span class="n">TreeNode</span><span class="p">,</span> <span class="n">reslt</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">:</span>
    <span class="n">reslt</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">val</span><span class="p">)</span>
    <span class="n">firsttravel</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">l</span><span class="p">)</span>
    <span class="n">firsttravel</span><span class="p">(</span><span class="n">root</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>

<span class="c1"># [0, 1, 2, 3, 4, 5, 6]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">reslt</span><span class="p">)</span>
</pre></div>
</div>
<p>Source file: <a class="reference external" href="https://raw.githubusercontent.com/odys-z/hello/master/acsl-pydev/acsl/lect04/firstvisit.py">first visiting tree travelling example</a></p>
<p>Exercise: implement a last visiting algorithm. With the tree above, print</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="priority-queues">
<h2>Priority Queues<a class="headerlink" href="#priority-queues" title="Permalink to this headline">¶</a></h2>
<p>A priority queue is quite similar to a binary search tree, but one can only delete
the smallest item and retrieve the smallest item only. These insert and delete
operations can be done in a guaranteed time proportional to the log (base 2) of
the number of items; the retrieve-the-smallest can be done in constant time.</p>
<p>The queue is usually called as heap, or min heap. In python/python3, it&#8217;s
<a class="reference external" href="https://docs.python.org/3/library/heapq.html">heapq</a>.</p>
<p>A heap can implemented with an array. The parent-children relation is fixed with
indexes:</p>
<div class="highlight-python"><div class="highlight"><pre>parent  = (child - 1) // 2
l-child = parent * 2 + 1
r-child = parent * 2 + 2

0 1 2   0 1 2 3 4 5 6
  0          0
 1 2      1     2
         3 4   5 6
</pre></div>
</div>
<p>Here is what Python 3.9 documents define a heap:</p>
<div class="highlight-python"><div class="highlight"><pre>arrays for which heap[k] &lt;= heap[2*k+1] and heap[k] &lt;= heap[2*k+2] for all k,
counting elements from zero
</pre></div>
</div>
<p>Adding an element:</p>
<div class="highlight-python"><div class="highlight"><pre>0 1 2 3 4 ?

     0
  1     2
 3 4   ?
</pre></div>
</div>
<p>Then competing up.</p>
<p>Deleting an element (heap can only delete the first/top):</p>
<div class="highlight-python"><div class="highlight"><pre>0 1 2 3 4 5                                       1 3 2 5 4
    ( )               (5)             1              1
  1     2           1     2       (5)    2        5     2
 3 4   5           3 4            3 4            3 4
</pre></div>
</div>
<p>Actually pop the top, move last, then competing downward.</p>
<p>Exercise: implement a min-heap.</p>
<div class="highlight-python3"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MinHeap</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Implement a min-heap</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">def</span> <span class="nf">peek</span><span class="p">():</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">pop</span><span class="p">():</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="c1"># Your task: implement moving then competing downward</span>
        <span class="k">return</span> <span class="n">t</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">h</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="c1"># Your task: implement competing upward</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p>Solution: <a class="reference download internal" href="../../_downloads/minheap.py" download=""><code class="xref download docutils literal"><span class="pre">MinHeap</span> <span class="pre">(local)</span></code></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fix.html" class="btn btn-neutral float-right" title="Topics" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="Lec 04: Topics of Contest 2" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Odys Zhou.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>